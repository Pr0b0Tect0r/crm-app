(this["webpackJsonpcrm-app"]=this["webpackJsonpcrm-app"]||[]).push([[17],{106:function(e,a,t){"use strict";a.a={urlGmail:"https://www.googleapis.com/gmail/v1/users/me/",urlCalendar:"https://www.googleapis.com/calendar/v3/calendars/primary/events",client_id:"128451255760-6lug3bde25hnd9btogfr7t3ff135ddvq.apps.googleusercontent.com",api_key:"AIzaSyC0_rYfBmJYrGPbqlVmcB_MjH_Ioem3tpE",primary_color:"teal",secondary_color:"orange",type:"light"}},307:function(e,a,t){"use strict";var n=t(72);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n(t(1)),r=(0,n(t(73)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"}),o.default.createElement("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99zM13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83zM17.5 14.33c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24z"})),"MenuBookOutlined");a.default=r},540:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return V}));var n=t(104),o=t.n(n),r=t(105),c=t(85),l=t(1),i=t.n(l),s=t(549),m=t(543),u=t(545),p=t(591),d=t(542),g=t(547),f=t(71),h=t(218),v=t(307),w=t.n(v),b=t(541),k=t(305),E=t(24),y=t(155),C=t.n(y),_=t(19),j=t(106),O=t(171),S=t.n(O),N=t(10),I=t(588),z=t(548),G=t(173),M=t.n(G),x=t(39),P=t(544);function T(){return i.a.createElement(b.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",i.a.createElement(d.a,{color:"inherit",href:"https://material-ui.com/"},"GNT Servicios generales SA")," ",(new Date).getFullYear(),".")}var q=Object(k.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url('https://i.imgur.com/OkQoTpl.jpg')",backgroundRepeat:"no-repeat",backgroundColor:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},close:{padding:e.spacing(.5)}}})),J=Object(E.a)((function(e){return{root:{color:e.palette.getContrastText(_.a[700]),backgroundColor:_.a[700],"&:hover":{backgroundColor:_.a[900]}}}}))(m.a);function V(){var e=i.a.useState(!1),a=Object(c.a)(e,2),t=a[0],n=a[1],l=i.a.useState(!1),d=Object(c.a)(l,2),v=d[0],k=d[1],E=i.a.useState("light"),y=Object(c.a)(E,2),_=y[0],O=y[1],G="https://mail.google.com https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/calendar https://www.google.com/m8/feeds/ https://www.googleapis.com/auth/contacts.readonly",V=q(),W=i.a.useMemo((function(){return Object(x.a)({palette:{type:_}})}),[_]);function B(){S.a.auth2.authorize({apiKey:"".concat(j.a.api_key),client_id:"".concat(j.a.client_id),scope:G,cookie_policy:"none"},(function(e){e.hasOwnProperty("error")?k(!0):(localStorage.setItem("tokenGoogle",JSON.stringify(e.access_token)),D(e.access_token))}))}var D=function(){var e=Object(r.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token=".concat(a),{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("perfilGoogle",JSON.stringify(e)),n(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),F=function(){k(!1)};return!0===t?i.a.createElement(N.a,{to:"/inicio"}):localStorage.getItem("tokenGoogle")?i.a.createElement(N.a,{to:"/inicio"}):i.a.createElement(P.a,{theme:W},i.a.createElement(h.a,{container:!0,component:"main",className:V.root},i.a.createElement(u.a,null),i.a.createElement(I.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:v,autoHideDuration:3e3,onClose:F,style:{opacity:"0.9"},ContentProps:{"aria-describedby":"mensaje"},message:i.a.createElement(b.a,{id:"mensaje",variant:"button"},"Error al autenticar"),action:[i.a.createElement(z.a,{key:"close","aria-label":"close",color:"inherit",className:V.close,onClick:F},i.a.createElement(M.a,null))]}),i.a.createElement(h.a,{item:!0,xs:!1,sm:4,md:7,className:V.image}),i.a.createElement(h.a,{item:!0,xs:12,sm:8,md:5,component:g.a,elevation:10,square:!0},i.a.createElement("div",{className:V.paper},i.a.createElement(s.a,{className:V.avatar},i.a.createElement(w.a,null)),i.a.createElement(b.a,{component:"h1",variant:"h5"},"GNT - CRM"),i.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"nickname",label:"Nickname",name:"nickname",autoComplete:"nickname",autoFocus:!0}),i.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"password"}),i.a.createElement(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return O("dark")},className:V.submit},"Ingresar"),i.a.createElement(J,{fullWidth:!0,onClick:function(){return S.a.load("auth2",B)},startIcon:i.a.createElement(C.a,null),variant:"contained"},"Ingresar con Google"),i.a.createElement(f.a,{mt:5},i.a.createElement(T,null))))))}}}]);
//# sourceMappingURL=17.50a8cf3a.chunk.js.map