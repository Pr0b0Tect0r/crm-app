{"version":3,"sources":["../node_modules/@material-ui/icons/AccountCircleOutlined.js","Componentes/Login/Login.js","Componentes/Config/Config.js"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","default","_react","_default","createElement","d","Copyright","variant","color","align","href","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","close","padding","ColorButton","withStyles","getContrastText","red","Button","Login","React","useState","irInicio","setIrInicio","aviso","setAviso","SCOPES","classes","initClient","gapi","auth2","authorize","apiKey","Config","api_key","client_id","scope","cookie_policy","response","hasOwnProperty","localStorage","setItem","JSON","stringify","access_token","perfil","TOKEN","a","fetch","method","headers","then","respuesta","json","handleCloseMensaje","to","getItem","container","component","className","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","style","opacity","ContentProps","message","id","action","key","aria-label","onClick","item","xs","sm","md","Paper","elevation","square","required","fullWidth","label","name","autoComplete","autoFocus","type","load","startIcon","mt","url","urlGmail","urlCalendar","primary_color","secondary_color"],"mappings":"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","file":"static/js/12.d4e9b0e6.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z\"\n}), 'AccountCircleOutlined');\n\nexports.default = _default;","\nimport React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport GoogleIcon from 'mdi-material-ui/Google';\nimport { red } from '@material-ui/core/colors';\nimport Config from '../Config/Config';\nimport gapi from 'gapi-client';\nimport { Redirect } from 'react-router-dom';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nfunction Copyright() {\n\treturn (\n\t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n\t\t\t{'Copyright Â© '}\n\t\t\t<Link color=\"inherit\" href=\"https://material-ui.com/\">\n\t\t\t\tGNT Servicios generales SA\n      </Link>{' '}\n\t\t\t{new Date().getFullYear()}\n\t\t\t{'.'}\n\t\t</Typography>\n\t);\n}\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\theight: '100vh',\n\t},\n\timage: {\n\t\tbackgroundImage: 'url(https://i.imgur.com/SltHx51.png)',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundColor: theme.palette.grey[50],\n\t\tbackgroundSize: 'cover',\n\t\tbackgroundPosition: 'center'\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center'\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1)\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2)\n\t},\n\tclose: {\n\t\tpadding: theme.spacing(0.5)\n\t}\n}));\n\nconst ColorButton = withStyles(theme => ({\n\troot: {\n\t\tcolor: theme.palette.getContrastText(red[700]),\n\t\tbackgroundColor: red[700],\n\t\t'&:hover': {\n\t\t\tbackgroundColor: red[900],\n\t\t},\n\t},\n}))(Button);\n\n\nexport default function Login() {\n\tconst [irInicio, setIrInicio] = React.useState(false)\n\tconst [aviso, setAviso] = React.useState(false)\n\tconst SCOPES = 'https://mail.google.com https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/calendar https://www.google.com/m8/feeds/ https://www.googleapis.com/auth/contacts.readonly';\n\tconst classes = useStyles();\n\n\tfunction initClient() {\n\t\tgapi.auth2.authorize({\n\t\t\tapiKey: `${Config.api_key}`,\n\t\t\tclient_id: `${Config.client_id}`,\n\t\t\tscope: SCOPES,\n\t\t\tcookie_policy: 'none'\n\t\t}, response => {\n\t\t\tif (response.hasOwnProperty('error')) {\n\t\t\t\tsetAviso(true)\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('tokenGoogle', JSON.stringify(response.access_token))\n\t\t\t\tperfil(response.access_token)\n\t\t\t}\n\t\t});\n\t}\n\n\tconst perfil = async (TOKEN) => {\n\t\tawait fetch(`https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token=${TOKEN}`, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t}\n\t\t}).then(respuesta => {\n\t\t\treturn respuesta.json()\n\t\t}).then(json => {\n\t\t\tlocalStorage.setItem('perfilGoogle', JSON.stringify(json))\n\t\t\tsetIrInicio(true)\n\t\t})\n\t}\n\n\tconst handleCloseMensaje = () => {\n\t\tsetAviso(false)\n\t};\n\n\tif (irInicio === true) {\n\t\treturn (<Redirect to='/inicio' />)\n\t}\n\n\tif (localStorage.getItem('tokenGoogle')) {\n\t\treturn (<Redirect to='/inicio' />)\n\t}\n\n\treturn (\n\t\t<Grid container component=\"main\" className={classes.root}>\n\t\t\t<CssBaseline />\n\t\t\t<Snackbar\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\thorizontal: 'left',\n\t\t\t\t}}\n\t\t\t\topen={aviso}\n\t\t\t\tautoHideDuration={3000}\n\t\t\t\tonClose={handleCloseMensaje}\n\t\t\t\tstyle={{ opacity: '0.8' }}\n\t\t\t\tContentProps={{\n\t\t\t\t\t'aria-describedby': 'message-id',\n\t\t\t\t}}\n\t\t\t\tmessage={<Typography id=\"message-id\" variant='button'>Error al autenticar</Typography>}\n\t\t\t\taction={[\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tkey=\"close\"\n\t\t\t\t\t\taria-label=\"close\"\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\tonClick={handleCloseMensaje}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</IconButton>,\n\t\t\t\t]}\n\t\t\t/>\n\t\t\t<Grid item xs={false} sm={4} md={7} className={classes.image} />\n\t\t\t<Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<AccountCircleOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tGNT - CRM\n          \t\t\t</Typography>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tlabel=\"Nickname\"\n\t\t\t\t\t\tname=\"nickname\"\n\t\t\t\t\t\tautoComplete=\"nickname\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t>\n\t\t\t\t\t\tIngresar\n            \t\t\t</Button>\n\t\t\t\t\t<ColorButton\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tonClick={() => gapi.load('auth2', initClient)}\n\t\t\t\t\t\tstartIcon={<GoogleIcon />}\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t>\n\t\t\t\t\t\tIngresar con Google\n\t\t\t\t\t\t</ColorButton>\n\t\t\t\t\t<Box mt={5}>\n\t\t\t\t\t\t<Copyright />\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}","const Config = {\n\t// url: 'http://191.98.184.211:8080/nt/'\n\turl: 'http://172.19.39.245:8080/nt/',\n\turlGmail: 'https://www.googleapis.com/gmail/v1/users/me/',\n\turlCalendar: 'https://www.googleapis.com/calendar/v3/calendars/primary/events',\n\tclient_id: \"128451255760-6lug3bde25hnd9btogfr7t3ff135ddvq.apps.googleusercontent.com\",\n\tapi_key: 'AIzaSyC0_rYfBmJYrGPbqlVmcB_MjH_Ioem3tpE',\n\tprimary_color: 'teal',\n\tsecondary_color: 'orange',\n\ttype: 'light'\n}\nexport default Config;"],"sourceRoot":""}