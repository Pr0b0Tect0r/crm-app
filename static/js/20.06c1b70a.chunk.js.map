{"version":3,"sources":["Componentes/Chat/Chat.js"],"names":["useStyles","makeStyles","theme","root","width","marginTop","spacing","close","padding","appBar","position","title","marginLeft","flex","opacity","avatar","height","animation","linea","chatRight","display","justifyContent","me","backgroundColor","palette","primary","main","margin","borderRadius","color","getContrastText","listame","them","secondary","listathem","textoMensaje","listaGeneral","top","overflow","maxHeight","grid","left","bottom","grid2","message","alignItems","avatarMensaje","marginRight","speedLlamadas","right","div","Transition","React","forwardRef","props","ref","direction","Chat","useState","friends","setFriends","friendisLoading","setFriendisLoading","selectedFriend","setSelectedFriend","selectedAvatar","setSelectedAvatar","selectedName","setSelectedName","selectedStatus","setSelectedStatus","chat","setChat","chatIsLoading","setChatIsLoading","dialogEvento","setDialogEvento","mensaje","setMensaje","notificacion","setNotificacion","notificacion2","setNotificacion2","infoNotificacion","setInfoNotificacion","setSpeedLlamadas","dialogSaliente","setDialogSaliente","idSaliente","setIdSaliente","dialogEntrante","setDialogEntrante","idEntrante","setIdEntrante","avatarEntrante","setAvatarEntrante","llamadaPantalla","setLlamadaPantalla","listenerID","classes","user","JSON","parse","localStorage","getItem","handleCloseDialogEvento","scrollBottom","node","document","getElementById","scrollHeight","scrollTop","clientHeight","useEffect","CometChat","UsersRequestBuilder","setLimit","build","fetchNext","then","userList","error","console","log","removeMessageListener","addCallListener","CallListener","onIncomingCallReceived","call","llamadaEntrante","callInitiator","sessionId","onOutgoingCallAccepted","sessionID","startCall","OngoingCallListener","onUserJoined","onUserLeft","onCallEnded","onOutgoingCallRejected","onIncomingCallCancelled","addMessageListener","MessageListener","onTextMessageReceived","sender","texto","text","nombre","uid","onMediaMessageReceived","addUserListener","UserListener","onUserOnline","onlineUser","onUserOffline","MessagesRequestBuilder","setUID","fetchPrevious","messages","prevState","mediaMessage","Fragment","anchorOrigin","vertical","horizontal","open","TransitionComponent","autoHideDuration","onClose","style","ContentProps","variant","className","src","alt","action","key","aria-label","onClick","fullWidth","rejectCall","CALL_STATUS","CANCELLED","acceptCall","fullScreen","id","edge","FabProps","size","ariaLabel","icon","onOpen","name","map","tooltipTitle","Call","CALL_TYPE","AUDIO","RECEIVER_TYPE","USER","initiateCall","outGoingCall","llamar","VIDEO","videoLlamar","container","item","xs","mensajes","index","receiverId","in","timeout","elevation","type","sm","autoComplete","autoFocus","placeholder","required","onKeyDown","e","keyCode","textMessage","TextMessage","MESSAGE_TYPE","TEXT","sendMessage","enviarMensaje","activeElement","value","onChange","target","lista","button","divider","status"],"mappings":"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","file":"static/js/20.06c1b70a.chunk.js","sourcesContent":["import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { CometChat } from '@cometchat-pro/chat';\r\nimport Box from '@material-ui/core/Box';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SpeedDial from '@material-ui/lab/SpeedDial';\r\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\r\nimport CallEndOutlinedIcon from '@material-ui/icons/CallEndOutlined';\r\nimport CallOutlinedIcon from '@material-ui/icons/CallOutlined';\r\nimport VideocamOutlinedIcon from '@material-ui/icons/VideocamOutlined';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tmarginTop: theme.spacing(10)\r\n\t},\r\n\tclose: {\r\n\t\tpadding: theme.spacing(0.5)\r\n\t},\r\n\tappBar: {\r\n\t\tposition: 'fixed'\r\n\t},\r\n\ttitle: {\r\n\t\tmarginLeft: theme.spacing(2),\r\n\t\tflex: 1,\r\n\t},\r\n\t'@keyframes blinker': {\r\n\t\t'0%': { opacity: 1 },\r\n\t\t'50%': { opacity: .2 },\r\n\t\t'100%': { opacity: 1 }\r\n\t},\r\n\tavatar: {\r\n\t\theight: 50,\r\n\t\twidth: 50,\r\n\t\tanimation: '$blinker 1s infinite'\r\n\t},\r\n\tlinea: {\r\n\t\twidth: '105%'\r\n\t},\r\n\tchatRight: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'flex-end'\r\n\t},\r\n\tme: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tmargin: 4,\r\n\t\tborderRadius: '10px 10px 0 10px',\r\n\t\tcolor: theme.palette.getContrastText(theme.palette.primary.main)\r\n\t},\r\n\tlistame: {\r\n\t\tposition: 'flex',\r\n\t\tjustifyContent: 'flex-end'\r\n\t},\r\n\tthem: {\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\tmargin: 4,\r\n\t\tborderRadius: '0 10px 10px 10px',\r\n\t\tcolor: theme.palette.getContrastText(theme.palette.secondary.main)\r\n\t},\r\n\tlistathem: {\r\n\t\tposition: 'flex',\r\n\t\tjustifyContent: 'flex-start'\r\n\t},\r\n\ttextoMensaje: {\r\n\t\t[`& fieldset`]: {\r\n\t\t\tborderRadius: 50,\r\n\t\t}\r\n\t},\r\n\tlistaGeneral: {\r\n\t\ttop: theme.spacing(7),\r\n\t\twidth: '100%',\r\n\t\tposition: 'fixed',\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: '80%'\r\n\t},\r\n\tgrid: {\r\n\t\tposition: 'fixed',\r\n\t\tleft: theme.spacing(1),\r\n\t\tbottom: theme.spacing(4),\r\n\t\twidth: '100%'\r\n\t},\r\n\tgrid2: {\r\n\t\theight: '80%'\r\n\t},\r\n\tmessage: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tavatarMensaje: {\r\n\t\tmarginRight: theme.spacing(1)\r\n\t},\r\n\tspeedLlamadas: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: theme.spacing(1.3),\r\n\t\tright: theme.spacing(2),\r\n\r\n\t},\r\n\tdiv: {\r\n\t\tposition: 'absolute',\r\n\t\twidth: '100%',\r\n\t\theight: '100%'\r\n\t}\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function Chat() {\r\n\tconst [friends, setFriends] = React.useState([])\r\n\tconst [friendisLoading, setFriendisLoading] = React.useState(true)\r\n\tconst [selectedFriend, setSelectedFriend] = React.useState(null);\r\n\tconst [selectedAvatar, setSelectedAvatar] = React.useState(null);\r\n\tconst [selectedName, setSelectedName] = React.useState(null);\r\n\tconst [selectedStatus, setSelectedStatus] = React.useState(null)\r\n\tconst [chat, setChat] = React.useState([]);\r\n\tconst [chatIsLoading, setChatIsLoading] = React.useState(false)\r\n\tconst [dialogEvento, setDialogEvento] = React.useState(false)\r\n\tconst [mensaje, setMensaje] = React.useState(null)\r\n\tconst [notificacion, setNotificacion] = React.useState(false)\r\n\tconst [notificacion2, setNotificacion2] = React.useState(false)\r\n\tconst [infoNotificacion, setInfoNotificacion] = React.useState({})\r\n\tconst [speedLlamadas, setSpeedLlamadas] = React.useState(false)\r\n\tconst [dialogSaliente, setDialogSaliente] = React.useState(false)\r\n\tconst [idSaliente, setIdSaliente] = React.useState(null)\r\n\tconst [dialogEntrante, setDialogEntrante] = React.useState(false)\r\n\tconst [idEntrante, setIdEntrante] = React.useState(null)\r\n\tconst [avatarEntrante, setAvatarEntrante] = React.useState(null)\r\n\tconst [llamadaPantalla, setLlamadaPantalla] = React.useState(false)\r\n\tconst MESSAGE_LISTENER_KEY = 'listener-key'\r\n\tconst listenerID = \"UNIQUE_LISTENER_ID\";\r\n\tconst limit = 30\r\n\tconst classes = useStyles()\r\n\tconst user = JSON.parse(localStorage.getItem('usuarioChat'))\r\n\tconst botonLlamadas = [\r\n\t\t{ name: 'Audio' },\r\n\t\t{ name: 'Video' }\r\n\t]\r\n\r\n\tconst selectFriend = (uid, avatar, name, status) => {\r\n\t\tsetSelectedFriend(uid);\r\n\t\tsetSelectedAvatar(avatar);\r\n\t\tsetSelectedName(name);\r\n\t\tsetSelectedStatus(status);\r\n\t\tsetChatIsLoading(true);\r\n\t\tsetDialogEvento(true);\r\n\t}\r\n\r\n\tconst handleCloseDialogEvento = () => {\r\n\t\tsetDialogEvento(false);\r\n\t\tsetSelectedFriend(null);\r\n\t};\r\n\r\n\tconst enviarMensaje = () => {\r\n\t\tvar textMessage = new CometChat.TextMessage(selectedFriend, mensaje, CometChat.RECEIVER_TYPE.USER, CometChat.MESSAGE_TYPE.TEXT)\r\n\t\tCometChat.sendMessage(textMessage).then(\r\n\t\t\tmessage => {\r\n\t\t\t\tsetChat([...chat, message]);\r\n\t\t\t\tscrollBottom()\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tconsole.log('No se pudo enviar el mensaje:', error);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tconst tecla = (e) => {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\tenviarMensaje()\r\n\t\t\tvar campo = document.activeElement\r\n\t\t\tcampo.value = ''\r\n\t\t}\r\n\t}\r\n\r\n\tconst scrollBottom = () => {\r\n\t\tvar node = document.getElementById(\"lista\");\r\n\t\tconst bottom = node.scrollHeight - node.scrollTop === node.clientHeight;\r\n\t\tif (!bottom) {\r\n\t\t\tnode.scrollTop = node.scrollHeight;\r\n\t\t}\r\n\t}\r\n\r\n\tconst llamar = () => {\r\n\t\tsetDialogSaliente(true)\r\n\r\n\t\tvar call = new CometChat.Call(selectedFriend, CometChat.CALL_TYPE.AUDIO, CometChat.RECEIVER_TYPE.USER);\r\n\r\n\t\tCometChat.initiateCall(call).then(\r\n\t\t\toutGoingCall => {\r\n\t\t\t\tvar llamada = [outGoingCall]\r\n\t\t\t\tsetIdSaliente(llamada[0].sessionId)\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tconsole.log(\"Ha fallado el inicio de llamada: \", error);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tconst cancelarLlamar = () => {\r\n\t\tsetDialogSaliente(false)\r\n\r\n\t\tCometChat.rejectCall(idSaliente, CometChat.CALL_STATUS.CANCELLED).then(\r\n\t\t\t() => {\r\n\t\t\t\tsetIdSaliente(null)\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tconsole.log(\"Error al cancelar llamada: \", error);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\tconst aceptarLlamadaEntrante = () => {\r\n\t\tsetDialogEntrante(false)\r\n\r\n\t\tCometChat.acceptCall(idEntrante).then(\r\n\t\t\t() => {\r\n\t\t\t\tsetLlamadaPantalla(true)\r\n\t\t\t\tCometChat.startCall(idEntrante, document.getElementById(\"callScreen\"),\r\n\t\t\t\t\tnew CometChat.OngoingCallListener({\r\n\t\t\t\t\t\tonCallEnded: call => {\r\n\t\t\t\t\t\t\tsetLlamadaPantalla(false)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}))\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tconsole.log(\"Error al aceptar la llamada: \", error);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tconst cancelarLlamadaEntrante = () => {\r\n\t\tsetDialogEntrante(false)\r\n\r\n\t\tCometChat.rejectCall(idEntrante, CometChat.CALL_STATUS.CANCELLED).then(\r\n\t\t\t() => {\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tconsole.log(\"Error al rechazar llamada: \", error);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tconst videoLlamar = () => {\r\n\t\tsetDialogSaliente(true)\r\n\r\n\t\tvar call = new CometChat.Call(selectedFriend, CometChat.CALL_TYPE.VIDEO, CometChat.RECEIVER_TYPE.USER);\r\n\r\n\t\tCometChat.initiateCall(call).then(\r\n\t\t\toutGoingCall => {\r\n\t\t\t\tvar llamada = [outGoingCall]\r\n\t\t\t\tsetIdSaliente(llamada[0].sessionId)\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tconsole.log(\"Ha fallado el inicio de llamada: \", error);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tlet usersRequest = new CometChat.UsersRequestBuilder()\r\n\t\t\t.setLimit(limit)\r\n\t\t\t.build();\r\n\r\n\t\tusersRequest.fetchNext().then(\r\n\t\t\tuserList => {\r\n\t\t\t\tsetFriends(userList);\r\n\t\t\t\tsetFriendisLoading(false);\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tconsole.log('Error al recibir lista: ', error);\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\tCometChat.removeMessageListener(MESSAGE_LISTENER_KEY);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tCometChat.addCallListener(\r\n\t\t\tlistenerID,\r\n\t\t\tnew CometChat.CallListener({\r\n\t\t\t\tonIncomingCallReceived(call) {\r\n\t\t\t\t\tvar llamadaEntrante = [call]\r\n\t\t\t\t\tsetAvatarEntrante(llamadaEntrante[0].callInitiator.avatar)\r\n\t\t\t\t\tsetDialogEntrante(true)\r\n\t\t\t\t\tsetIdEntrante(llamadaEntrante[0].sessionId)\r\n\t\t\t\t},\r\n\r\n\t\t\t\tonOutgoingCallAccepted(call) {\r\n\t\t\t\t\tvar sessionID = call.sessionID;\r\n\r\n\t\t\t\t\tCometChat.startCall(sessionID, document.getElementById(\"callScreen\"),\r\n\t\t\t\t\t\tnew CometChat.OngoingCallListener({\r\n\t\t\t\t\t\t\tonUserJoined: () => {\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonUserLeft: () => {\r\n\t\t\t\t\t\t\t\tsetLlamadaPantalla(false)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonCallEnded: () => {\r\n\t\t\t\t\t\t\t\tsetLlamadaPantalla(false)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tonOutgoingCallRejected: () => {\r\n\t\t\t\t\tsetDialogSaliente(false)\r\n\t\t\t\t},\r\n\t\t\t\tonIncomingCallCancelled: () => {\r\n\t\t\t\t\tsetDialogEntrante(false)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tCometChat.addMessageListener(listenerID,\r\n\t\t\tnew CometChat.MessageListener({\r\n\t\t\t\tonTextMessageReceived: message => {\r\n\t\t\t\t\tsetInfoNotificacion({ avatar: message.sender.avatar, texto: message.text, nombre: message.sender.uid })\r\n\t\t\t\t\tsetNotificacion(true)\r\n\t\t\t\t},\r\n\t\t\t\tonMediaMessageReceived: () => {\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tCometChat.addUserListener(\r\n\t\t\tlistenerID,\r\n\t\t\tnew CometChat.UserListener({\r\n\t\t\t\tonUserOnline: onlineUser => {\r\n\t\t\t\t\tsetInfoNotificacion({ avatar: onlineUser.avatar, nombre: onlineUser.uid })\r\n\t\t\t\t\tlet usersRequest = new CometChat.UsersRequestBuilder()\r\n\t\t\t\t\t\t.setLimit(limit)\r\n\t\t\t\t\t\t.build();\r\n\r\n\t\t\t\t\tusersRequest.fetchNext().then(\r\n\t\t\t\t\t\tuserList => {\r\n\t\t\t\t\t\t\tsetFriends(userList);\r\n\t\t\t\t\t\t\tsetFriendisLoading(false);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror => {\r\n\t\t\t\t\t\t\tconsole.log('Error al recibir lista: ', error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetNotificacion2(true)\r\n\t\t\t\t},\r\n\t\t\t\tonUserOffline: () => {\r\n\t\t\t\t\tlet usersRequest = new CometChat.UsersRequestBuilder()\r\n\t\t\t\t\t\t.setLimit(limit)\r\n\t\t\t\t\t\t.build();\r\n\r\n\t\t\t\t\tusersRequest.fetchNext().then(\r\n\t\t\t\t\t\tuserList => {\r\n\t\t\t\t\t\t\tsetFriends(userList);\r\n\t\t\t\t\t\t\tsetFriendisLoading(false);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror => {\r\n\t\t\t\t\t\t\tconsole.log('Error al recibir lista: ', error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tif (selectedFriend) {\r\n\t\t\tlet messagesRequest = new CometChat.MessagesRequestBuilder()\r\n\t\t\t\t.setUID(selectedFriend)\r\n\t\t\t\t.setLimit(limit)\r\n\t\t\t\t.build();\r\n\r\n\t\t\tmessagesRequest.fetchPrevious().then(\r\n\t\t\t\tmessages => {\r\n\t\t\t\t\tsetChat(messages);\r\n\t\t\t\t\tsetChatIsLoading(false);\r\n\t\t\t\t\tscrollBottom()\r\n\t\t\t\t},\r\n\t\t\t\terror => {\r\n\t\t\t\t\tconsole.log('Error la recibir mensajes:', error);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tCometChat.removeMessageListener(MESSAGE_LISTENER_KEY);\r\n\r\n\t\t\tCometChat.addCallListener(listenerID,\r\n\t\t\t\tnew CometChat.CallListener({\r\n\t\t\t\t\tonIncomingCallReceived(call) {\r\n\t\t\t\t\t\tvar llamadaEntrante = [call]\r\n\t\t\t\t\t\tsetAvatarEntrante(llamadaEntrante[0].callInitiator.avatar)\r\n\t\t\t\t\t\tsetDialogEntrante(true)\r\n\t\t\t\t\t\tsetIdEntrante(llamadaEntrante[0].sessionId)\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tonOutgoingCallAccepted(call) {\r\n\t\t\t\t\t\tvar sessionID = call.sessionID;\r\n\t\t\t\t\t\tsetDialogSaliente(false)\r\n\t\t\t\t\t\tsetLlamadaPantalla(true)\r\n\r\n\t\t\t\t\t\tCometChat.startCall(sessionID, document.getElementById(\"callScreen\"),\r\n\t\t\t\t\t\t\tnew CometChat.OngoingCallListener({\r\n\t\t\t\t\t\t\t\tonUserJoined: () => {\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tonUserLeft: () => {\r\n\t\t\t\t\t\t\t\t\tsetLlamadaPantalla(false)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tonCallEnded: () => {\r\n\t\t\t\t\t\t\t\t\tsetLlamadaPantalla(false)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tonOutgoingCallRejected: () => {\r\n\t\t\t\t\t\tsetDialogSaliente(false)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonIncomingCallCancelled: () => {\r\n\t\t\t\t\t\tsetDialogEntrante(false)\r\n\t\t\t\t\t\tsetDialogSaliente(false)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\tCometChat.addMessageListener(listenerID,\r\n\t\t\t\tnew CometChat.MessageListener({\r\n\t\t\t\t\tonTextMessageReceived: message => {\r\n\t\t\t\t\t\tif (selectedFriend === message.sender.uid) {\r\n\t\t\t\t\t\t\tsetChat(prevState => [...prevState, message]);\r\n\t\t\t\t\t\t\tscrollBottom()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonMediaMessageReceived: mediaMessage => {\r\n\t\t\t\t\t\tif (selectedFriend === mediaMessage.sender.uid) {\r\n\t\t\t\t\t\t\tsetChat(prevState => [...prevState, mediaMessage]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t}, [selectedFriend]);\r\n\r\n\tif (friendisLoading) {\r\n\t\treturn (\r\n\t\t\t<Box position=\"absolute\" top=\"50%\" left=\"50%\">\r\n\t\t\t\t<CircularProgress color='primary' />\r\n\t\t\t</Box>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\tanchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n\t\t\t\t\topen={notificacion}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tautoHideDuration={3000}\r\n\t\t\t\t\tonClose={() => setNotificacion(false)}\r\n\t\t\t\t\tstyle={{ opacity: '0.9' }}\r\n\t\t\t\t\tContentProps={{ 'aria-describedby': 'mensaje' }}\r\n\t\t\t\t\tmessage={<Typography variant='button' className={classes.message}>\r\n\t\t\t\t\t\t<Avatar src={infoNotificacion.avatar} alt='...' className={classes.avatarMensaje} />\r\n\t\t\t\t\t\t{infoNotificacion.texto}\r\n\t\t\t\t\t</Typography>}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tkey=\"close\"\r\n\t\t\t\t\t\t\taria-label=\"close\"\r\n\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\tonClick={() => setNotificacion(false)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t</IconButton>,\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\tanchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n\t\t\t\t\topen={notificacion2}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tautoHideDuration={3000}\r\n\t\t\t\t\tonClose={() => setNotificacion2(false)}\r\n\t\t\t\t\tstyle={{ opacity: '0.9' }}\r\n\t\t\t\t\tContentProps={{ 'aria-describedby': 'mensaje' }}\r\n\t\t\t\t\tmessage={<Typography variant='button' className={classes.message}>\r\n\t\t\t\t\t\t<Avatar src={infoNotificacion.avatar} alt='...' className={classes.avatarMensaje} />\r\n\t\t\t\t\t\t{`${infoNotificacion.nombre} se ha conectado`}\r\n\t\t\t\t\t</Typography>}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tkey=\"close\"\r\n\t\t\t\t\t\t\taria-label=\"close\"\r\n\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\tonClick={() => setNotificacion2(false)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t</IconButton>,\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t\t<Dialog fullWidth open={dialogSaliente} onClose={() => setDialogSaliente(false)} TransitionComponent={Transition}>\r\n\t\t\t\t\t<DialogTitle><Typography variant='button'>Llamando...</Typography></DialogTitle>\r\n\t\t\t\t\t<DialogContent><Avatar src={selectedAvatar} alt='...' className={classes.avatar} /></DialogContent>\r\n\t\t\t\t\t<DialogActions><Button color=\"secondary\" onClick={() => cancelarLlamar()}>Cancelar</Button></DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t\t<Dialog fullWidth open={dialogEntrante} onClose={() => setDialogEntrante(false)} TransitionComponent={Transition}>\r\n\t\t\t\t\t<DialogTitle><Typography variant='button'>Llamanda entrante...</Typography></DialogTitle>\r\n\t\t\t\t\t<DialogContent><Avatar src={avatarEntrante} alt='...' className={classes.avatar} /></DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button color=\"secondary\" onClick={() => cancelarLlamadaEntrante()}>Cancelar</Button>\r\n\t\t\t\t\t\t<Button color=\"primary\" variant='contained' onClick={() => aceptarLlamadaEntrante()}>Aceptar</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t\t<Dialog fullScreen open={llamadaPantalla} onClose={() => setLlamadaPantalla(false)} TransitionComponent={Transition}>\r\n\t\t\t\t\t<div id='callScreen' className={classes.div} />\r\n\t\t\t\t</Dialog>\r\n\t\t\t\t<Dialog fullScreen open={dialogEvento} onClose={handleCloseDialogEvento} TransitionComponent={Transition}>\r\n\t\t\t\t\t<AppBar className={classes.appBar}>\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<IconButton edge=\"start\" color=\"inherit\" onClick={handleCloseDialogEvento} aria-label=\"cerrar\">\r\n\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t<Avatar src={selectedAvatar} />\r\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\r\n\t\t\t\t\t\t\t\t{`${selectedName} - ${selectedStatus}`}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<SpeedDial\r\n\t\t\t\t\t\t\t\tclassName={classes.speedLlamadas}\r\n\t\t\t\t\t\t\t\tdirection='down'\r\n\t\t\t\t\t\t\t\tFabProps={{ size: 'small', color: 'secondary' }}\r\n\t\t\t\t\t\t\t\tariaLabel=\"Llamadas\"\r\n\t\t\t\t\t\t\t\ticon={<CallEndOutlinedIcon />}\r\n\t\t\t\t\t\t\t\tonClose={() => setSpeedLlamadas(false)}\r\n\t\t\t\t\t\t\t\tonOpen={() => setSpeedLlamadas(true)}\r\n\t\t\t\t\t\t\t\topen={speedLlamadas}>\r\n\r\n\t\t\t\t\t\t\t\t{botonLlamadas.map(action => (\r\n\t\t\t\t\t\t\t\t\t<SpeedDialAction\r\n\t\t\t\t\t\t\t\t\t\tkey={action.name}\r\n\t\t\t\t\t\t\t\t\t\ticon={action.name === 'Audio' ? <CallOutlinedIcon /> : action.name === 'Video' ? <VideocamOutlinedIcon /> : ''}\r\n\t\t\t\t\t\t\t\t\t\ttooltipTitle={action.name}\r\n\t\t\t\t\t\t\t\t\t\tonClick={action.name === 'Audio' ? () => llamar() : action.name === 'Video' ? () => videoLlamar() : ''}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</SpeedDial>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t\t{chatIsLoading ?\r\n\t\t\t\t\t\t\t<LinearProgress color='secondary' className={classes.linea} />\r\n\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<List className={classes.listaGeneral} id='lista'>\r\n\t\t\t\t\t\t\t\t{chatIsLoading ? null :\r\n\t\t\t\t\t\t\t\t\tchat.map((mensajes, index) => (\r\n\t\t\t\t\t\t\t\t\t\tmensajes.receiverId !== user.uid ?\r\n\t\t\t\t\t\t\t\t\t\t\t<Zoom in={true} timeout={500} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListItem key={index} className={classes.listame}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Paper elevation={4} className={classes.me}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' style={{ padding: 6 }}>{mensajes.type === 'text' ? mensajes.text :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmensajes.type === 'audio' ? `${mensajes.sender.uid} te llamó` :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmensajes.type === 'video' ? `${mensajes.sender.uid} te llamó` : ''}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar src={user.avatar} alt='...' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Zoom> :\r\n\t\t\t\t\t\t\t\t\t\t\t<Zoom in={true} timeout={500} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListItem key={index} className={classes.listathem}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar src={selectedAvatar} alt='...' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Paper elevation={4} className={classes.them}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' style={{ padding: 6 }}>{mensajes.type === 'text' ? mensajes.text :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmensajes.type === 'audio' ? `${mensajes.sender.uid} te llamó` :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmensajes.type === 'video' ? `${mensajes.sender.uid} te llamó` : ''}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Zoom>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid container spacing={2} className={classes.grid}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tautoComplete=\"mensaje\"\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\tclassName={classes.textoMensaje}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Escribe un mensaje...\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tonKeyDown={tecla}\r\n\t\t\t\t\t\t\t\tonChange={e => { setMensaje(e.target.value) }}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Dialog>\r\n\t\t\t\t<Fade in={true} timeout={1000}>\r\n\t\t\t\t\t<Paper elevation={4} className={classes.root}>\r\n\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t{friends.map((lista, index) => (\r\n\t\t\t\t\t\t\t\t<ListItem key={index} button divider={true} onClick={() => selectFriend(lista.uid, lista.avatar, lista.name, lista.status)}>\r\n\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t<Avatar src={lista.avatar} />\r\n\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={lista.name} secondary={`${lista.uid} - ${lista.status}`} />\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Fade>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}"],"sourceRoot":""}